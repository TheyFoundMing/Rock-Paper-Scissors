<!DOCTYPE html>

<html>

<head></head>

<body>

  <script>
  let choices = ['rock', 'paper', 'scissors'];

  function computerPlay(){
    // returns r p or s
    let choice = Math.floor(Math.random()*choices.length);
    return choices[choice];
  }

  function singleRound(playerSelection, computerSelection) {
    // prompt user for choice and compare with comp choice
    switch(playerSelection.toLowerCase()) {
      case 'rock':
          switch(computerSelection) {
            case 'rock':
                return 0;
                break;
            case 'paper':
                return 2;
                break;
            case 'scissors':
                return 1;
                break;
          }
          break;
      case 'paper':
        switch(computerSelection) {
          case 'rock':
              return 1;
              break;
          case 'paper':
              return 0;
              break;
          case 'scissors':
              return 2;
              break;
        }
        break;
      case 'scissors':
        switch(computerSelection) {
          case 'rock':
              return 2;
              break;
          case 'paper':
              return 1;
              break;
          case 'scissors':
              return 0;
              break;
        }
        break;
    }
  }

  function game() {
    let playerCount = 0;
    let computerCount = 0;

    for (let i=0; i < 5; i++) {
      let playerSelection = prompt('Rock, Paper or Scissors?');
      let computerSelection = computerPlay();

      console.log(`Round ${i + 1}:`);
      console.log(`Player chose ${playerSelection}!`);
      console.log(`Computer chose ${computerSelection}!`);

      let winner = singleRound(playerSelection, computerSelection);

      switch(winner) {
        // computer wins
        case 2:
          console.log("You lose!");
          computerCount++;
          break;
        // player wins
        case 1:
          console.log("You win!");
          playerCount++;
          break;
        // it's a draw
        case 0:
        console.log("It's a draw!");
        break;
      }
    }


    console.log(`Results of the game:

Player: ${playerCount}
Computer: ${computerCount}`);

  if (playerCount > computerCount) {
    console.log("PLAYER WINS THE GAME");
  } else if (playerCount < computerCount) {
    console.log("COMPUTER WINS THE GAME");
  } else {
    console.log("IT'S A DRAW!");
  }

  }

  game();

  </script>

</body>

</html>
